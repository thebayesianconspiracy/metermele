import Immutable from 'immutable';
import { createReducer } from '../utils';
import _ from 'lodash';

const initialState = Immutable.fromJS({"predictions":[{"description":"Kankaria Lake, Kankaria, Ahmedabad, Gujarat","id":"e04f3d61d56f7caa5a6b0b026831fd191724f961","matched_substrings":[{"length":5,"offset":0}],"place_id":"ChIJ-85IEMWFXjkRGnqLKnhRf3c","reference":"ChIJ-85IEMWFXjkRGnqLKnhRf3c","structured_formatting":{"main_text":"Kankaria Lake","main_text_matched_substrings":[{"length":5,"offset":0}],"secondary_text":"Kankaria, Ahmedabad, Gujarat"},"terms":[{"offset":0,"value":"Kankaria Lake"},{"offset":15,"value":"Kankaria"},{"offset":25,"value":"Ahmedabad"},{"offset":36,"value":"Gujarat"}],"types":["natural_feature","establishment"]},{"description":"Kankakee, IL, USA","id":"6d6214046da4b40392720604cd6b845f2e4bd402","matched_substrings":[{"length":5,"offset":0}],"place_id":"ChIJK4qQtbLCDYgR3KKCyKHcFP4","reference":"ChIJK4qQtbLCDYgR3KKCyKHcFP4","structured_formatting":{"main_text":"Kankakee","main_text_matched_substrings":[{"length":5,"offset":0}],"secondary_text":"IL, USA"},"terms":[{"offset":0,"value":"Kankakee"},{"offset":10,"value":"IL"},{"offset":14,"value":"USA"}],"types":["locality","political","geocode"]},{"description":"Kankavali, Maharashtra, India","id":"04cef5c011ecaa13385ac45a00808b1a0a263b9d","matched_substrings":[{"length":5,"offset":0}],"place_id":"ChIJ_WC1kS4WwDsRNnCEnH3gqvY","reference":"ChIJ_WC1kS4WwDsRNnCEnH3gqvY","structured_formatting":{"main_text":"Kankavali","main_text_matched_substrings":[{"length":5,"offset":0}],"secondary_text":"Maharashtra, India"},"terms":[{"offset":0,"value":"Kankavali"},{"offset":11,"value":"Maharashtra"},{"offset":24,"value":"India"}],"types":["locality","political","geocode"]},{"description":"Kankaanpää, Finland","id":"935d6038c0f9f9ee87213df51c525af38a45ce61","matched_substrings":[{"length":5,"offset":0}],"place_id":"ChIJc2bN26b8iEYR4K9LVVG1AAQ","reference":"ChIJc2bN26b8iEYR4K9LVVG1AAQ","structured_formatting":{"main_text":"Kankaanpää","main_text_matched_substrings":[{"length":5,"offset":0}],"secondary_text":"Finland"},"terms":[{"offset":0,"value":"Kankaanpää"},{"offset":12,"value":"Finland"}],"types":["locality","political","geocode"]},{"description":"Kankarbagh, Kumhrar, Patna, Bihar, India","id":"a98ed235b3cbb586e00d7d5c3269908ab553d727","matched_substrings":[{"length":5,"offset":0}],"place_id":"ChIJJW2bna5Y7TkRgH_SY3FgE68","reference":"ChIJJW2bna5Y7TkRgH_SY3FgE68","structured_formatting":{"main_text":"Kankarbagh, Kumhrar","main_text_matched_substrings":[{"length":5,"offset":0}],"secondary_text":"Patna, Bihar, India"},"terms":[{"offset":0,"value":"Kankarbagh"},{"offset":12,"value":"Kumhrar"},{"offset":21,"value":"Patna"},{"offset":28,"value":"Bihar"},{"offset":35,"value":"India"}],"types":["sublocality_level_2","sublocality","political","geocode"]}],"selected":{"from":{"coordinates":{"lat":23.0120338,"lng":72.51075399999999},"description":"Prahlad Nagar, Ahmedabad, Gujarat, India"},"to":{"coordinates":{"lat":23.0062573,"lng":72.60255029999999},"description":"Kankaria Lake, Kankaria, Ahmedabad, Gujarat"}}});

const reducers = {
  LOCATIONS_RECEIVED: (state, { predictions }) => state.set('predictions', Immutable.fromJS(predictions)),
  LOCATION_SELECTED: (state, { coordinates, description, reason }) => state.setIn(['selected', reason], { coordinates, description }),
  LOCATION_INITIALIZE: (state) => initialState
};

export default createReducer(initialState, reducers);
